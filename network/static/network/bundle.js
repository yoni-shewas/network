(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function getCookie(e,t){var n=null;if(t.cookie&&""!==t.cookie)for(var o=t.cookie.split(";"),r=0;r<o.length;r++){var i=o[r].trim();if(i.startsWith(e+"=")){n=decodeURIComponent(i.substring(e.length+1));break}}return n}function deleteComment(e,t,n,o){e.preventDefault();o.getElementById("".concat(n.id,"_delete_button"));console.log(t),fetch("delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",o)},body:JSON.stringify({id:t.id})}).then((function(e){if(e.ok){var n=o.getElementById("".concat(t.id,"_comment"));console.log(n),n&&(n.style.transition="opacity 0.25s ease",n.style.opacity=0,setTimeout((function(){n.remove()}),200))}})).catch((function(e){console.error("Error:",e)}))}function editComment(e,t,n,o){e.preventDefault();var r=o.getElementById("".concat(t.id,"_comment"));r.innerHTML="";var i=o.createElement("p");i.setAttribute("class","commenter"),i.innerHTML=t.commenter;var a=o.createElement("textarea");a.id="".concat(t.id,"_commentBox"),a.setAttribute("maxlength","150"),a.value=t.comment,a.setAttribute("class","form-control");var c=o.createElement("button");c.id="".concat(t.id,"_button"),c.innerHTML="Edit comment",c.className="btn btn-primary",r.appendChild(i),r.appendChild(a),r.appendChild(c),c.addEventListener("mouseover",(function(){c.style.cursor="pointer"})),c.disabled=!0,a.onkeyup=function(e){c.disabled=!1,c.onclick=function(i){var a=e.target.value;fetch("editComment",{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",o)},body:JSON.stringify({id:n.id,comment:a})}).then((function(e){if(e.ok){r.innerHTML="";var n=o.createElement("p");n.className="text-wrap text-break",n.innerHTML=a,r.appendChild(n);var i=o.createElement("button");i.innerHTML="Edit",i.className="btn btn-secondary";var c=o.createElement("button");c.innerHTML="Delete",c.className="btn btn-danger",r.appendChild(i),r.appendChild(c),i.addEventListener("mouseover",(function(){i.style.cursor="pointer"})),c.addEventListener("mouseover",(function(){c.style.cursor="pointer"})),i.onclick=function(e){editComment(e,t,o)},c.onclick=function(e){deleteComment(e,t,o)}}})).catch((function(e){console.error("Error:",e)}))}}}function add_comment(e,t,n){var o=n.createElement("div");o.className="comment-divs",o.setAttribute("id","".concat(e.id,"_comment"));var r=n.createElement("p");r.className="commenter",r.innerHTML="@".concat(e.commenter);var i=n.createElement("p");if(i.className="text-wrap text-break",i.innerHTML="".concat(e.comment),o.appendChild(r),o.appendChild(i),e.commenter===e.user){var a=n.createElement("button");a.innerHTML="Edit",a.className="btn btn-secondary";var c=n.createElement("button");c.innerHTML="Delete",c.className="btn btn-danger",o.appendChild(a),o.appendChild(c),a.addEventListener("click",(function(o){a.disabled=!0,c.disabled=!0,editComment(o,e,t,n)})),c.addEventListener("click",(function(o){a.disabled=!0,c.disabled=!0,deleteComment(o,e,t,n)}))}var d=n.getElementById("".concat(t.id,"_comments"));d?d.prepend(o):console.error("Comments container not found")}e.d({},{M:()=>profile});var t=5,n={};function commentsList(e,o,r,i){n[r.id]||(n[r.id]={start:0,end:t-1});var a=n[r.id],c=a.start,d=a.end;fetch("/comments?id=".concat(o,"&start=").concat(c,"&end=").concat(d),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e.comments)&&e.comments.length>0){var a=i.getElementById("".concat(r.id,"_comments"));a.innerHTML="",e.comments.forEach((function(e){add_comment(e,r,i)}));var c=i.getElementById("".concat(r.id,"_more"));c||((c=i.createElement("p")).innerHTML="more comments...",c.setAttribute("id","".concat(r.id,"_more")),a.appendChild(c)),c.onclick=function(e){n[r.id].start=d+1,n[r.id].end=d+t,commentsList(e,o,r,i)}}else if(0===n[r.id].start){var s=i.getElementById("".concat(r.id,"_comments"));s.innerHTML="";var l=i.createElement("p");l.innerHTML="0 comments found",s.appendChild(l)}else{i.getElementById("".concat(r.id,"_more")).innerHTML="No more comments"}})).catch((function(e){console.error("Error:",e)}))}function comment_(e,t,n,o){e.preventDefault();var r=o.getElementById("".concat(n.id,"_Mcomment")),i=o.createElement("textarea");i.setAttribute("autofocus","true"),i.setAttribute("class","form-control"),i.setAttribute("id","".concat(n.id,"_commentBox")),i.setAttribute("maxlength","150");var a=o.createElement("button");a.innerHTML="Comment",a.setAttribute("id","".concat(n.id,"_button")),a.setAttribute("class","btn btn-primary"),r.prepend(a),r.prepend(i),a.addEventListener("mouseover",(function(){a.style.cursor="pointer"})),a.disabled=!0,i.onkeyup=function(e){var i=e.target.value.length;a.disabled=i>150,a.onclick=function(i){i.preventDefault(),a.disabled=!0;var c=e.target.value;fetch("comment",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",o)},body:JSON.stringify({id:t,comment:c})}).then((function(i){if(i.ok){r.innerHTML="",commentsList(0,t,n,o);var a=o.getElementById("".concat(n.id,"_commentC"));a.onclick=function(){var t=n.id;comment_(e,t,n,o),a.onclick=null}}})).catch((function(e){console.error("Error:",e)}))}}}function add_post(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.createElement("div");r.className="post",r.id="".concat(e.id,"_post");var i=t.createElement("h4");i.innerHTML="@".concat(e.poster),i.className="poster",i.id="".concat(e.poster,"_poster"),i.addEventListener("mouseover",(function(){i.style.cursor="pointer"})),i.onclick=function(t){t.preventDefault(),profile(t,e.poster,!1)};var a=t.createElement("div"),c="".concat(e.id,"_container");a.className="PostContainer text-wrap text-break";var d=t.createElement("p");(d.className="text-wrap text-break",d.textContent=e.post,d.setAttribute("id","".concat(e.id,"_posted")),a.appendChild(d),a.setAttribute("id",c),e.edited)&&(t.createElement("a").innerHTML="Edited");var s=t.createElement("p");s.innerHTML=e.date;var l=t.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width","25px"),l.setAttribute("height","25px"),l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("fill","none"),l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.classList.add("svg-container"),l.setAttribute("class","svg-fill");var u=t.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("opacity","0.5"),u.setAttribute("d","M12.8324 21.8013C15.9583 21.1747 20 18.926 20 13.1112C20 7.8196 16.1267 4.29593 13.3415 2.67685C12.7235 2.31757 12 2.79006 12 3.50492V5.3334C12 6.77526 11.3938 9.40711 9.70932 10.5018C8.84932 11.0607 7.92052 10.2242 7.816 9.20388L7.73017 8.36604C7.6304 7.39203 6.63841 6.80075 5.85996 7.3946C4.46147 8.46144 3 10.3296 3 13.1112C3 20.2223 8.28889 22.0001 10.9333 22.0001C11.0871 22.0001 11.2488 21.9955 11.4171 21.9858C11.863 21.9296 11.4171 22.085 12.8324 21.8013Z"),u.setAttribute("fill","#0c2c67"),u.id="".concat(e.id,"_fill1"),u.setAttribute("class","path1");var m=t.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d","M8 18.4442C8 21.064 10.1113 21.8742 11.4171 21.9858C11.863 21.9296 11.4171 22.085 12.8324 21.8013C13.871 21.4343 15 20.4922 15 18.4442C15 17.1465 14.1814 16.3459 13.5401 15.9711C13.3439 15.8564 13.1161 16.0008 13.0985 16.2273C13.0429 16.9454 12.3534 17.5174 11.8836 16.9714C11.4685 16.4889 11.2941 15.784 11.2941 15.3331V14.7439C11.2941 14.3887 10.9365 14.1533 10.631 14.3346C9.49507 15.0085 8 16.3949 8 18.4442Z"),m.setAttribute("fill","#0c2c67"),m.id="".concat(e.id,"_fill2"),m.setAttribute("class","path2"),l.appendChild(u),l.appendChild(m),l.onclick=function(){var n=e.id;!function liked(e,t,n){var o="".concat(t,"_fill1"),r="".concat(t,"_fill2"),i=n.getElementById(o),a=n.getElementById(r);e.preventDefault(),fetch("like",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",n)},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(e){if(e&&void 0!==e.likes){i?e.isLiked?(i.setAttribute("fill","#2c29e2"),a.setAttribute("fill","#00BFFF")):(i.setAttribute("fill","#1E1E1E"),a.setAttribute("fill","#0c2c67")):console.error("Path element not found:",pathId);var o="".concat(t,"_like"),r=n.getElementById(o);if(r){var c=e.likes;r.innerHTML=c}else console.error("Element not found:",t)}else console.error("Request failed or response is unexpected")})).catch((function(e){console.error("Error:",e)}))}(event,n,t)},e.liked&&(u.setAttribute("fill","#2c29e2"),m.setAttribute("fill","#00BFFF"));var p=t.createElement("p");p.innerHTML=e.likes;var h="".concat(e.id,"_like");p.setAttribute("id",h),r.appendChild(i);var v=e.viewer===e.poster_id;if(v){var f=t.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("width","25px"),f.setAttribute("height","25px"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.setAttribute("xmlns","http://www.w3.org/2000/svg"),f.classList.add("svg-container"),f.classList.add("svg-fill");var C=t.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("opacity","0.5"),C.setAttribute("d","M10 12V17"),C.setAttribute("stroke","red"),C.id="".concat(e.id,"_delete1"),C.classList.add("path1"),C.classList.add("path-danger");var E=t.createElementNS("http://www.w3.org/2000/svg","path");E.setAttribute("opacity","0.5"),E.setAttribute("d","M14 12V17"),E.setAttribute("stroke","red"),E.id="".concat(e.id,"_delete2"),E.classList.add("path2"),E.classList.add("path-danger");var b=t.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("opacity","0.5"),b.setAttribute("d","M4 7H20"),b.setAttribute("stroke","red"),b.id="".concat(e.id,"_delete3"),b.classList.add("path3"),b.classList.add("path-danger");var g=t.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("opacity","0.5"),g.setAttribute("d","M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10"),g.setAttribute("stroke","red"),g.id="".concat(e.id,"_delete4"),g.classList.add("path4"),g.classList.add("path-danger");var y=t.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("opacity","0.5"),y.setAttribute("d","M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z"),y.setAttribute("stroke","red"),y.id="".concat(e.id,"_delete5"),y.classList.add("path5"),y.classList.add("path-danger"),f.appendChild(C),f.appendChild(E),f.appendChild(b),f.appendChild(g),f.appendChild(y),f.onclick=function(){var n=e.id;Swal.fire({title:"Are you sure to delete?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&function deleted(e,t,n){fetch("post/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",n)},body:JSON.stringify({id:t})}).then((function(e){if(e.ok){var o=n.getElementById("".concat(t,"_post"));o&&(o.style.transition="opacity 0.25s ease",o.style.opacity=0,setTimeout((function(){o.remove()}),200))}})).catch((function(e){console.error("Error:",e)}))}(event,n,t)}))};var L=t.createElement("a");L.innerHTML="Edit",L.setAttribute("id","".concat(e.id,"_edit")),L.setAttribute("class","text-primary"),L.addEventListener("mouseover",(function(){L.style.cursor="pointer"})),r.appendChild(L),L.onclick=function(){var n=e.id;!function Edit(e,t,n,o){e.preventDefault();var r="".concat(t,"_container");try{for(var i=o.getElementById(r),a=o.getElementById("".concat(n.id,"_posted"));i.firstChild;)i.firstChild.remove();var c=o.createElement("textarea");c.setAttribute("class","form-control commentInput"),c.setAttribute("id","".concat(t,"_content"));var d=o.createElement("button");d.setAttribute("id","".concat(t,"_edit")),d.setAttribute("class","btn btn-primary"),c.value=a.innerHTML,d.innerHTML="Edit",i.appendChild(c),i.appendChild(d),d.addEventListener("mouseover",(function(){d.style.cursor="pointer"})),d.disabled=!0,c.onkeyup=function(e){d.disabled=!1,d.onclick=function(r){d.disabled=!0;var c=e.target.value;fetch("edit",{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",o)},body:JSON.stringify({id:t,content:c})}).then((function(e){e.ok?(i.innerHTML="",a.innerHTML=c,i.append(a),o.getElementById("".concat(n.id,"_post"))):console.error("Error updating content:",e.statusText)})).catch((function(e){console.error("Error:",e)}))},d.addEventListener("mouseover",(function(){d.style.cursor="pointer"}))}}catch(e){console.error("Error:",e)}}(event,n,e,t)}}r.appendChild(a);var w=t.createElement("div");w.setAttribute("class","comment-div"),w.setAttribute("id","comment_container");var k=t.createElement("p"),T=t.createElement("div");T.setAttribute("id","".concat(e.id,"_comment"));var A=t.createElement("div");T.setAttribute("id","".concat(e.id,"_Mcomment"));var M=t.createElement("div");k.innerHTML="comment",k.id="".concat(e.id,"_commentC"),M.appendChild(k);var H=t.createElement("div");H.setAttribute("id","".concat(e.id,"_comments"));var _=t.createElement("p");if(_.setAttribute("id","".concat(e.id,"_commentss")),_.innerHTML="comments",H.appendChild(_),w.appendChild(H),w.appendChild(A),w.appendChild(T),w.appendChild(M),k.addEventListener("mouseover",(function(){k.style.cursor="pointer"})),_.addEventListener("mouseover",(function(){_.style.cursor="pointer",n=0})),k.onclick=function(){var n=e.id;k.onclick=null,comment_(event,n,e,t)},_.onclick=function(){var n=e.id;commentsList(event,n,e,t)},e.edited){var B=t.createElement("a");B.innerHTML="Edited",r.appendChild(B)}var x=t.createElement("div");x.setAttribute("class","like-div"),x.appendChild(l),x.appendChild(p);var N=t.createElement("div");N.setAttribute("class","interaction-div"),N.appendChild(x),v&&N.appendChild(f);var I=t.createElement("div");I.setAttribute("class","container-info"),I.setAttribute("id","".concat(e.id,"_before")),I.appendChild(N),I.appendChild(s),r.appendChild(I),r.appendChild(w),o?t.querySelector("#posts").prepend(r):t.querySelector("#posts").append(r)}var o=0,r=0,i=0,a=10,c=!1,d="null";function load(){var e=o,t=e+10-1;o=t+1,document.getElementById("poster-h2").innerHTML="All posts",document.getElementById("post").addEventListener("input",(function(){var e=this.value.length;document.getElementById("wordCount").textContent=e+" / 200 Characters";var t=document.getElementById("postButton");e>200?(document.getElementById("wordCount").textContent="200 / 200 Characters please minimize the post",t.disabled=!0):t.disabled=!1})),fetch("/posts?start=".concat(e,"&end=").concat(t)).then((function(e){return e.json()})).then((function(e){e.posts&&Array.isArray(e.posts.posts)?e.posts.posts.forEach((function(e){add_post(e,document,i)})):console.error("Data.posts is not an array:",e.posts)}))}function profile(e,t,n){var o=r,s=o+a-1;r=s+1,n?(d="null",n=!1):d=t||"null",fetch("/profile?startP=".concat(o,"&endP=").concat(s,"&user=").concat(d)).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e.posts.posts)){if(!c)document.getElementById("posts").innerHTML="",window.scrollTo(0,0);c=!0,e.posts.posts.forEach((function(t){!function profileStats(e){"null"===d&&(d=e.userProfile);var t=document.getElementById("index-div");t.innerHTML="";var n=document.getElementById("poster-h2");e.is_following?n.innerHTML="For you posts":n.innerHTML="".concat(e.userProfile," posts");var o=document.createElement("h1");o.innerHTML="".concat(e.userProfile);var r=document.createElement("div");if(r.id="user-follow",r.appendChild(o),e.user!==e.userProfile){var i=document.createElement("a");e.isfollowing?i.innerHTML=" - following":i.innerHTML=" - follow",i.setAttribute("id","".concat(e.userProfile,"_follow")),i.setAttribute("class","text-primary"),i.addEventListener("mouseover",(function(){i.style.cursor="pointer"})),r.appendChild(i);var a='\n        chat...<svg width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#1a36d6" transform="rotate(0)">\n            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\n            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#1a36d6CCCCCC" stroke-width="0.024"> \x3c!-- Adjusted stroke width --\x3e\n            </g>\n            <g id="SVGRepo_iconCarrier">\n                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22Z" stroke="#1a36d6" stroke-width="2.4">\n                </path>\n            </g>\n        </svg>\n    ',c=document.createElement("div");c.innerHTML=a,c.onclick=function(){!function openChatWindow(e){var t=document.createElement("div");t.setAttribute("id","chat-window");var n=document.createElement("div");n.setAttribute("class","chat-header"),n.innerHTML="<h4>Chat with ".concat(e,"</h4>");var o=document.createElement("div");o.setAttribute("class","chat-content"),o.setAttribute("id","chat-content");var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","chat-input"),r.setAttribute("placeholder","Type your message here...");var i=document.createElement("button");i.setAttribute("id","send-button"),i.innerHTML="Send",i.onclick=function(){!function sendMessage(e){var t=document.getElementById("chat-input").value;if(""===t.trim())return void alert("Message cannot be empty");fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",document)},body:JSON.stringify({message:t,receiver:e})}).then((function(e){return e.json()})).then((function(e){if(e.error)alert(e.error);else{var n=document.getElementById("chat-content"),o=document.createElement("div");o.className="chat-message sent";var r=document.createElement("div");r.className="chat-text",r.style.color="#0069d9",r.innerHTML=t;var i=document.createElement("div");i.className="chat-date small text-muted",i.innerHTML=(new Date).toLocaleTimeString(),o.appendChild(r),o.appendChild(i),n.appendChild(o),document.getElementById("chat-input").value=""}})).catch((function(e){return console.error("Error sending message:",e)}))}(e)},t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(i);var a=document.getElementById("index-div");a.innerHTML="";var c=document.getElementById("poster-h2");c.innerHTML="chat with ".concat(e),a.appendChild(t),function loadChats(e){var t=0,n=9;fetch("/chat?receiver=".concat(e,"&start=").concat(t,"&end=").concat(n)).then((function(e){return e.json()})).then((function(o){var r=document.getElementById("chat-content");if(r.innerHTML="",o.chats.forEach((function(t){var n=document.createElement("div");n.className="chat-message";var o=document.createElement("div");o.className="chat-text",o.innerHTML=t.chat;var i=document.createElement("div");i.className="chat-date small text-muted",i.innerHTML=new Date(t.date).toLocaleTimeString(),t.sender===e?(n.classList.add("sent"),o.style.color="#0069d9"):(n.classList.add("received"),o.style.color="#28a745"),n.appendChild(o),n.appendChild(i),r.appendChild(n)})),o.chats.length>0){var i=document.createElement("button");i.setAttribute("id","load-more-button"),i.className="btn btn-primary mt-3",i.innerHTML="Load More",i.onclick=function(){!function loadMoreChats(e,t,n){t+=10,n+=10,fetch("/chat?receiver=".concat(e,"&start=").concat(t,"&end=").concat(n)).then((function(e){return e.json()})).then((function(t){var n=document.getElementById("chat-content");t.chats.forEach((function(t){var o=document.createElement("div");o.className="chat-message";var r=document.createElement("div");r.className="chat-text",r.innerHTML=t.chat;var i=document.createElement("div");i.className="chat-date small text-muted",i.innerHTML=t.date,t.sender===e?(o.classList.add("sent"),r.style.color="#0069d9"):(o.classList.add("received"),r.style.color="#28a745"),o.appendChild(r),o.appendChild(i),n.appendChild(o)}))})).catch((function(e){return console.error("Error loading more chats:",e)}))}(e,t,n)},r.appendChild(i)}})).catch((function(e){return console.error("Error loading chats:",e)}))}(e)}(e.userProfile)},r.appendChild(c),i.onclick=function(t){follow(t,e)}}var s=document.createElement("div");s.className="follow-stat";var l=document.createElement("p");l.innerHTML="Followers";var u=document.createElement("p");u.innerHTML="".concat(e.followers),u.id="".concat(e.userProfile,"_followers"),s.appendChild(l),s.appendChild(u);var m=document.createElement("div");m.className="follow-stat";var p=document.createElement("p");p.innerHTML="Following";var h=document.createElement("p");h.innerHTML="".concat(e.following),h.id="".concat(e.userProfile,"_following"),m.appendChild(p),m.appendChild(h),t.appendChild(r),t.appendChild(s),t.appendChild(m)}(e.posts),add_post(t,document,i)}))}else console.error("Data.posts is not an array:",e.posts)}))}document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("following"),t=document.getElementById("post"),n=document.getElementById("postButton");n.disabled=!0,t.onkeyup=function(){t.value.length>0?n.disabled=!1:n.disabled=!0,n.onclick=function(e){n.disabled=!0,function submitPost(e){e.preventDefault();var t=document.getElementById("postButton");t.disabled=!0;var n=document.getElementById("post-form"),o=new FormData(n).get("post");fetch("post",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken",document)},body:JSON.stringify({post:o})}).then((function(e){return e.json()})).then((function(e){e&&void 0!==e.data.post?(console.log("Request successful"),add_post(e.data,document,i,!0),t.disabled=!1):console.error("Request failed or response is unexpected")})).catch((function(e){console.error("Error:",e)}))}(e)}};var o=function followingClickHandler(t){t.preventDefault(),d="null",profile(t,"null",!0),e.addEventListener("click",followingClickHandler)};e.addEventListener("click",o),load();window.addEventListener("popstate",(function reattachFollowingListener(){e.removeEventListener("click",o),e.addEventListener("click",o)}))})),window.onscroll=function debounce(e,t){var n;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}}((function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(c?profile(event,d):load())}),300)})();
//# sourceMappingURL=bundle.js.map